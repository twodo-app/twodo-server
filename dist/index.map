{"version":3,"sources":["routes/v1/todos.js","index.js"],"names":["module","exports","GET","all","db","req","res","json","filtered","Object","keys","query","byID","params","id","POST","express","require","lowdb","FileSync","DB_NAME","PORT","VERSION","ROOT","defaults","todos","write","app","listen","console","log","get"],"mappings":";AAAAA,OAAOC,QAAU,CACfC,IAAK,CACHC,IAAKC,GAAM,CAACC,EAAKC,KACfA,EAAIC,KAAK,0BAGXC,SAAUJ,GAAM,CAACC,EAAKC,KACpBA,EAAIC,2CAA2CE,OAAOC,KAAKL,EAAIM,WAGjEC,KAAOR,GAAM,CAACC,EAAKC,KACjBA,EAAIC,sCAAsCF,EAAIQ,OAAOC,QAGzDC,KAAM;;ACZR,MAAMC,EAAYC,QAAQ,WACpBC,EAAYD,QAAQ,SACpBE,EAAYF,QAAQ,2BAIpBG,EAAU,KACVC,EAAU,IACVC,EAAU,KACVC,EAAW,UAMXnB,EAAKc,EAAO,IAAIC,EAAU,YAIhCf,EAAGoB,SAAS,CAAEC,MAAO,KAClBC,QAIH,MAAMC,EAAMX,IAGNS,EAAQR,QAAQ,wBAEtBU,EAAIC,OAtBY,IAsBC,KACfC,QAAQC,IAAK,iCAIfH,EAAII,IAAK,gBAAgBN,EAAMvB,IAAIC,IAAIC,IAGvCuB,EAAII,IAAK,wBAAwBN,EAAMvB,IAAIM,SAASJ,IAGpDuB,EAAII,IAAK,oBAAoBN,EAAMvB,IAAIU,KAAKR","file":"index.map","sourceRoot":"../src","sourcesContent":["module.exports = {\n  GET: {\n    all: db => (req, res) => {\n      res.json('This is all the todos')\n    },\n    //\n    filtered: db => (req, res) => {\n      res.json(`This is all the todos filtered by: ${Object.keys(req.query)}`)\n    },\n    //\n    byID : db => (req, res) => {\n      res.json(`This is the todo with the id: ${req.params.id}`)\n    }\n  },\n  POST: {\n    \n  }\n}","//---------------------------------------------------------\n// NPM Packages\nconst express   = require('express')                  // express is our json server\nconst lowdb     = require('lowdb')                    // lowdb is a lightweight json db\nconst FileSync  = require('lowdb/adapters/FileSync')  // adapters define where and how to save our db\n\n//---------------------------------------------------------\n// Constants\nconst DB_NAME = 'db'\nconst PORT    = 3000\nconst VERSION = 'v1'\nconst ROOT    = `/api/${VERSION}`\n\n//---------------------------------------------------------\n// db\n// Open the database using the FileSync adapter. Every operation\n// in the database will be synchronous.\nconst db = lowdb( new FileSync(`${DB_NAME}.json`))\n\n// Write some sensible defaults to the database if it is\n// empty.\ndb.defaults({ todos: [] })\n  .write()\n\n//---------------------------------------------------------\n// app\nconst app = express()\n\n// Remember to bump 'v1' to VERSION whenever it changes!!\nconst todos = require('./routes/v1/todos.js')\n\napp.listen(PORT, () => {\n  console.log(`Server running on port ${PORT}`)\n})\n\n// GET all stored todos\napp.get(`${ROOT}/todos`, todos.GET.all(db))\n\n// GET all todos according to some supplied filter\napp.get(`${ROOT}/todos/filter?`, todos.GET.filtered(db))\n\n// GET a single todo by ID\napp.get(`${ROOT}/todos/:id`, todos.GET.byID(db))"]}